!function(){var e=require("module").Module,r=e._nodeModulePaths,o=process.cwd(),s=r(o).filter(function(e){return-1===module.paths.indexOf(e)});if(require.main&&require.main.paths&&(require.main.paths=s.concat(require.main.paths)),e._nodeModulePaths=function(e){var o=r.call(this,e),n=s.filter(function(e){return-1===o.indexOf(e)});return o=o.concat(n)},process.argv[2]&&"dom"===process.argv[2]){var n,c=require("fs"),t=require("path").join(o,"package.json");if(c.existsSync(t))try{n=require(t).jsRepl}catch(e){process.send({type:"other",error:"no package.json"})}require("@achil/repl-dom")(n)}process.on("disconnect",function(){process.exit()})}();var $console=function(){var e=require("util").inspect,r={errors:!1},o=JSON.parse(process.env.jsRepl).cvVar,s=!1;function n(e){if("string"==typeof e)return{message:e};if(e instanceof Error){var r={message:e.message,stack:e.stack,name:e.name};return Object.keys(e).forEach(function(o){r[o]=e[o]}),r}}return process.argv[3]&&"errors"===process.argv[3]&&(r.errors=!0),{log:function(){var o=Array.prototype.slice.call(arguments),s={type:"console",line:o.pop(),values:e(o)};r.errors&&(s.error=n(new Error)),process.send(s)},error:function(e){process.send({type:"error",error:n(e)})},covLog:function(e){let r;(r=global[o])&&(s?s&&e&&process.send({type:"cov",covAsync:e}):(process.send({type:"cov",cov:r}),s=!0))},cov:function(e,r,o){s&&this.covLog({type:e,id:r,index:o})}}}();